{"version":3,"file":"app.js","sources":["../src/AppShell.tsx","../src/utils.ts","../src/Workout.tsx","../src/Stepper.tsx","../src/Timer.tsx","../src/App.tsx","../src/index.tsx"],"sourcesContent":["import * as React from \"react\";\n\nfunction info() {\n  window.alert(\"For best results, add this app to your home screen.\");\n}\n\nconst AppShell: React.FC = ({ children }) => (\n  <>\n    <header className=\"h3 flex items-center\">\n      <img className=\"mh2\" width=\"32\" height=\"32\" src=\"icons/icon-header.png\" />\n      <a href=\"/\">\n        <h3 className=\"underline\">{document.title}</h3>\n      </a>\n      <div className=\"ml-auto\">\n        <a id=\"install\" onClick={info}></a>\n      </div>\n    </header>\n    <main className=\"flex flex-column justify-center\">\n      <div className=\"flex flex-column center mv5\">{children}</div>\n    </main>\n  </>\n);\n\nexport default AppShell;\n","export const defaultWorkout: WorkoutProps = {\n  sets: 20,\n  work: 30 * 1000,\n  rest: 15 * 1000,\n  start: false,\n};\n\n\nexport function restLabel(set: number, last: number) {\n  switch (set) {\n    case 0:\n      return \"Get ready!\";\n    case last:\n      return \"Last round coming up!\";\n    default:\n      return \"Rest\";\n  }\n}\n\nexport const colorWheel = [\"#cb4b16\", \"#dc322f\", \"#d33682\", \"#6c71c4\"];\n\nexport function formattedDuration(millis: number) {\n  const [, duration] = new Date(millis).toISOString().split(\"T\");\n  return duration.substr(4, 4);\n}\n\nexport function effects<T>(...fns: ConsumerEffect<T>[]) {\n  return (x: T) => {\n    const cancels = fns.map(f => f(x));\n    return () => { cancels.map(c => c && c()); };\n  };\n}\n\nexport function sleep(millis: number) {\n  return new Promise(resolve => setTimeout(resolve, millis));\n}\n\n","import * as React from \"react\";\nimport { colorWheel, effects, formattedDuration } from \"./utils\";\n\ntype Props = WorkoutProps;\n\ninterface StaticProps {\n  start(): void;\n  stop(): void;\n}\n\ninterface Intervals {\n  togglePause(): void;\n  interval: Nullable<IntervalProps>;\n}\n\ntype IntervalTuple = [IntervalProps, Consumer<IntervalProps>];\n\nfunction backgroundEffect([interval]: IntervalTuple) {\n  document.body.style.backgroundColor = interval.color;\n}\n\nfunction tickEffect([interval, setInterval]: IntervalTuple) {\n  const timeout = 1000; // millis\n  const { remaining, next } = interval;\n  const updated = remaining > 0 ? { ...interval, remaining: remaining - timeout } : next;\n  const timer = window.setTimeout(setInterval, timeout, updated);\n  return () => window.clearTimeout(timer);\n}\n\nfunction soundEffect([interval]: IntervalTuple) {\n  const { remaining } = interval;\n  window.HiitTimer.soundEffects(remaining);\n}\n\nconst effect = effects(tickEffect, soundEffect, backgroundEffect);\n\nfunction makeInterval(props: WorkoutProps, total: number): Nullable<IntervalProps> {\n  const { sets, ...rest } = props;\n\n  if (sets <= 0) {\n    return null;\n  }\n\n  const next = makeInterval(\n    {\n      ...rest,\n      sets: sets - 1,\n    },\n    total\n  );\n\n  return {\n    label: \"Rest\",\n    color: \"#222\",\n    paused: false,\n    remaining: props.rest,\n    next: {\n      label: `Round ${total - sets + 1} / ${total}`,\n      paused: false,\n      remaining: props.work,\n      color: colorWheel[sets % colorWheel.length],\n      next,\n    },\n  };\n}\n\nfunction makeIntervals(props: WorkoutProps): Intervals {\n  const total = props.sets;\n  const [interval, setInterval] = React.useState(() => makeInterval(props, total));\n\n  React.useEffect(() => {\n    if (interval && !interval.paused) {\n      return effect([interval, setInterval]);\n    }\n  });\n\n  const togglePause = () => {\n    if (interval) {\n      setInterval({ ...interval, paused: !interval.paused });\n    }\n  };\n\n  return {\n    togglePause,\n    interval,\n  };\n\n}\n\nconst Workout: React.FC<Props> & StaticProps = props => {\n  const { togglePause, interval } = makeIntervals(props);\n  if (interval) {\n    return (\n      <>\n        <div className=\"tc\">\n          <h2 className=\"mv2\">{formattedDuration(interval.remaining)}</h2>\n          <p className=\"mt2 mb5\">{interval.label}</p>\n        </div>\n        <section className=\"flex\">\n          <button onClick={togglePause} className=\"mh3\">\n            {interval.paused ? \"Resume\" : \"Pause\"}\n          </button>\n          <button onClick={Workout.stop} className=\"mh3\">\n            Stop\n          </button>\n        </section>\n      </>\n    );\n  } else {\n    return (\n      <div className=\"tc\">\n        <h2>Congratulations!</h2>\n        <p>\n          <a href=\"/\">Next workout?</a>\n        </p>\n        <small>\n          Brought to your by <a href=\"https://github.com/keksipurkki\">keksipurkki</a>\n        </small>\n      </div>\n    );\n  }\n};\n\nWorkout.start = () => {\n\n  console.log(\"Assigning side effects to the workout\");\n\n  /* Prevent device from going to standby */\n  if (NoSleep) {\n    new NoSleep().enable();\n  }\n\n  /* Register sound effects. NB: Audio playback requires an user interaction */\n  const sndEffects = {\n    beep3: new Audio(\"snd/beep3.mp3\"),\n    beep2: new Audio(\"snd/beep2.mp3\"),\n    beep1: new Audio(\"snd/beep1.mp3\"),\n    beep0: new Audio(\"snd/beep0.mp3\"),\n  };\n\n  const play = (audio: HTMLMediaElement) => {\n    audio.play();\n    audio.addEventListener(\"ended\", audio.load.bind(audio));\n  };\n\n  const HiitTimer = {\n    soundEffects: (millis: number) => {\n      switch (millis) {\n        case 3000:\n          return play(sndEffects.beep3);\n        case 2000:\n          return play(sndEffects.beep2);\n        case 1000:\n          return play(sndEffects.beep1);\n        case 0:\n          return play(sndEffects.beep0);\n        default:\n          return;\n      }\n    },\n  };\n\n  window.HiitTimer = HiitTimer;\n\n};\n\nWorkout.stop = () => (window.location.href = \"/\");\n\nexport default Workout;\n","import * as React from \"react\";\n\ninterface Props<V = number> {\n  label: string;\n  value: V;\n  onChange(v: V): void;\n  decrement(v: V): V;\n  increment(v: V): V;\n  format?(v: V): string;\n}\n\nfunction useLongPress(effect: Effect, ms = 100) {\n  const [startLongPress, setStartLongPress] = React.useState(false);\n\n  React.useEffect(() => {\n    let timerId = undefined;\n\n    if (startLongPress) {\n      timerId = window.setTimeout(effect, ms);\n    } else {\n      window.clearTimeout(timerId);\n    }\n\n    return window.clearTimeout.bind(window, timerId);\n  });\n\n  return {\n    onClick: () => effect(),\n    onMouseDown: () => setStartLongPress(true),\n    onMouseUp: () => setStartLongPress(false),\n    onMouseLeave: () => setStartLongPress(false),\n    onTouchStart: () => setStartLongPress(true),\n    onTouchEnd: () => setStartLongPress(false),\n  };\n}\n\nconst Stepper: React.FC<Props> = ({ onChange, format, value, label, decrement, increment }) => {\n  if (!format) throw new Error(\"invalid_state\");\n\n  const decrementHandlers = useLongPress(() => onChange(decrement(value)));\n  const incrementHandlers = useLongPress(() => onChange(increment(value)));\n\n  return (\n    <form className=\"noselect\">\n      <label className=\"mr3 w3 dib\">{label}</label>\n      <button type=\"button\" {...decrementHandlers}>\n        âˆ’\n      </button>\n      <input type=\"text\" readOnly value={format(value)} />\n      <button type=\"button\" {...incrementHandlers}>\n        +\n      </button>\n    </form>\n  );\n};\n\nStepper.defaultProps = {\n  label: \"Label\",\n  decrement: (v: number) => v - 1,\n  increment: (v: number) => v + 1,\n  format: (v: number) => String(v),\n  value: 0,\n};\n\nexport default Stepper;\n","import * as React from \"react\";\nimport Stepper from \"./Stepper\";\nimport { formattedDuration } from \"./utils\";\n\ntype Props = TimerProps;\n\nconst nullOnChange = (_x: number) => {};\n\nfunction IntegerStepper({ value = 0, onChange = nullOnChange, label = \"Label\" } = {}) {\n  const step = 1; // rounds\n  const increment = (value: number) => Math.min(value + step, 40);\n  const decrement = (value: number) => Math.max(value - step, 1);\n  return (\n    <Stepper\n      onChange={onChange}\n      label={label}\n      value={value}\n      increment={increment}\n      decrement={decrement}\n    />\n  );\n}\n\nfunction TimeStepper({ value = 0, onChange = nullOnChange, label = \"Label\" } = {}) {\n  const step = 1000; // millis\n  const next = (value: number) => Math.min(value + step, 60 * 1000);\n  const prev = (value: number) => Math.max(value - step, 5 * 1000);\n  return (\n    <Stepper\n      onChange={onChange}\n      value={value}\n      label={label}\n      increment={next}\n      decrement={prev}\n      format={formattedDuration}\n    />\n  );\n}\n\nconst Timer: React.FC<Props> = ({ start, reset, setSets, setWork, setRest, workout }) => {\n  return (\n    <>\n      <section className=\"flex flex-column mv3\">\n        <IntegerStepper onChange={setSets} label=\"Sets\" value={workout.sets} />\n        <TimeStepper onChange={setWork} label=\"Work\" value={workout.work} />\n        <TimeStepper onChange={setRest} label=\"Rest\" value={workout.rest} />\n      </section>\n      <section className=\"mv3 flex\">\n        <button onClick={reset} className=\"mh3\">\n          Reset\n        </button>\n        <button onClick={start} className=\"mh3\">\n          Go!\n        </button>\n      </section>\n    </>\n  );\n};\n\nexport default Timer;\n","import * as React from \"react\";\nimport AppShell from \"./AppShell\";\nimport Workout from \"./Workout\";\nimport Timer from \"./Timer\";\nimport { effects, defaultWorkout } from \"./utils\";\n\nfunction makeWorkout(defaults: WorkoutProps) {\n  const [workout, setWorkout] = React.useState(() => defaults);\n\n  const timer = {\n    setSets: (sets: number) => setWorkout({ ...workout, sets }),\n    setWork: (work: number) => setWorkout({ ...workout, work }),\n    setRest: (rest: number) => setWorkout({ ...workout, rest }),\n    start: () => effects(Workout.start, setWorkout)({ ...workout, start: true }),\n    reset: (): void => setWorkout(defaultWorkout),\n  };\n\n  return { workout, timer };\n}\n\nconst App: React.FC = () => {\n  const { workout, timer } = makeWorkout(defaultWorkout);\n  return (\n    <AppShell>\n      {workout.start ? <Workout {...workout} /> : <Timer workout={workout} {...timer} />}\n    </AppShell>\n  );\n};\n\nexport default App;\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/sw.js');\n}\n\nReactDOM.render(<App />, document.getElementById(\"app\"));\n"],"names":["React.createElement","React.useState","React.useEffect","ReactDOM.render"],"mappings":"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"}