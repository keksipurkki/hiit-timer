{"version":3,"file":"app.js","sources":["../src/AppShell.tsx","../src/utils.ts","../src/Workout.tsx","../src/Stepper.tsx","../src/Timer.tsx","../src/App.tsx","../src/index.tsx"],"sourcesContent":["import * as React from \"react\";\n\nfunction info() {\n  window.alert(\"For best results, add this app to your home screen.\");\n}\n\nconst AppShell: React.FC = ({ children }) => (\n  <>\n    <header className=\"h3 flex items-center\">\n      <img className=\"mh2\" width=\"32\" height=\"32\" src=\"icons/icon-header.png\" />\n      <a href=\"/\">\n        <h3 className=\"underline\">{document.title}</h3>\n      </a>\n      <div className=\"ml-auto\">\n        <a id=\"install\" onClick={info}></a>\n      </div>\n    </header>\n    <main className=\"flex flex-column justify-center\">\n      <div className=\"flex flex-column center mv5\">{children}</div>\n    </main>\n  </>\n);\n\nexport default AppShell;\n","function restLabel(set: number, last: number) {\n  switch (set) {\n    case 0:\n      return \"Get ready!\";\n    case last:\n      return \"Last round coming up!\";\n    default:\n      return \"Rest\";\n  }\n}\n\nconst colorWheel = [\n  \"#cb4b16\",\n  \"#dc322f\",\n  \"#d33682\",\n  \"#6c71c4\"\n];\n\nexport function formattedDuration(millis: number) {\n  const [, duration] = new Date(millis).toISOString().split(\"T\");\n  return duration.substr(4, 4);\n}\n\nexport function effects<T>(...fns: Consumer<T>[]) {\n  return (x: T) => {\n    return fns.filter(Boolean).map(f => f(x));\n  };\n}\n\nexport function sleep(millis: number) {\n  return new Promise(resolve => setTimeout(resolve, millis));\n}\n\nexport function makeIntervals(params: IWorkout) {\n\n  const intervals: IInterval[] = [];\n\n  for (let set = 0; set < params.sets; set++) {\n\n    intervals.push({\n      remaining: params.rest,\n      color: \"#222\",\n      label: restLabel(set, params.sets - 1),\n    });\n\n    intervals.push({\n      remaining: params.work,\n      color: colorWheel[set % colorWheel.length],\n      label: `Round ${set + 1} / ${params.sets}`,\n    });\n\n  }\n\n  return intervals;\n\n}\n","import * as React from \"react\";\nimport { makeIntervals, formattedDuration } from \"./utils\";\n\ninterface Props extends IWorkout {}\n\ninterface StaticProps {\n  start(): void;\n  stop(): void;\n}\n\nlet countDownSoundEffect: Consumer<number> = (millis: number) => {};\n\nfunction tick(current: IInterval): IInterval {\n  const remaining = current ? current.remaining - 1000 : 0;\n\n  return {\n    ...current,\n    remaining,\n  };\n\n}\n\nconst ThankYou: React.FC = () => {\n  return (\n    <div className=\"tc\">\n      <h2>Congratulations!</h2>\n      <p>\n        <a href=\"/\">Next workout?</a>\n      </p>\n      <small>\n        Brought to your by <a href=\"https://github.com/keksipurkki\">keksipurkki</a>\n      </small>\n    </div>\n  );\n};\n\nconst Interval: React.FC<IInterval> = props => {\n  return (\n    <div className=\"tc\">\n      <h2 className=\"mv2\">{formattedDuration(props.remaining)}</h2>\n      <p className=\"mt2 mb5\">{props.label}</p>\n    </div>\n  );\n};\n\nconst Workout: React.FC<Props> & StaticProps = props => {\n\n  const [intervals, setIntervals] = React.useState(makeIntervals(props));\n  const [paused, setPaused] = React.useState(false);\n  const [current, ...remaining] = intervals;\n  const togglePaused = () => setPaused(!paused);\n  const millis = current ? current.remaining : 0;\n\n  const next = () => {\n\n    if (paused) {\n      return;\n    }\n\n    const updated = tick(current);\n    const newIntervals = updated.remaining >= 0 ? [updated, ...remaining] : remaining;\n    const timer = window.setTimeout(setIntervals, 1000, newIntervals);\n\n    return () => window.clearTimeout(timer);\n  };\n\n  React.useEffect(() => {\n    document.body.style.backgroundColor = current ? current.color : \"#222\";\n  });\n\n  React.useEffect(next, [millis, paused]);\n\n  React.useEffect(() => countDownSoundEffect(millis));\n\n  if (!current) {\n    return <ThankYou />;\n  }\n\n  return (\n    <>\n      <Interval {...current} />\n      <section className=\"flex\">\n        <button onClick={togglePaused} className=\"mh3\">\n          {paused ? \"Resume\" : \"Pause\"}\n        </button>\n        <button onClick={Workout.stop} className=\"mh3\">\n          Stop\n        </button>\n      </section>\n    </>\n  );\n};\n\nWorkout.start = () => {\n  console.log(\"Assigning side effects to the workout\");\n\n  /* Prevent device from going to standby */\n  if (window.NoSleep) {\n    new window.NoSleep().enable();\n  }\n\n  /* Register sound effects. NB: Audio playback requires an user interaction */\n  const SndEffects = {\n    beep3: new Audio(\"beep3.mp3\"),\n    beep2: new Audio(\"beep2.mp3\"),\n    beep1: new Audio(\"beep1.mp3\"),\n    bebeep: new Audio(\"bluup.mp3\"),\n  };\n\n  const play = (audio: HTMLMediaElement) => {\n    audio.play();\n    audio.addEventListener(\"ended\", () => audio.load());\n  };\n\n  countDownSoundEffect = (millis: number) => {\n    switch (millis) {\n      case 3000:\n        return play(SndEffects.beep3);\n      case 2000:\n        return play(SndEffects.beep2);\n      case 1000:\n        return play(SndEffects.beep1);\n      case 0:\n        return play(SndEffects.bebeep);\n      default:\n        return;\n    }\n  };\n};\n\nWorkout.stop = () => (window.location.href = \"/\");\n\nexport default Workout;\n","import * as React from \"react\";\n\ninterface Props<V = number> {\n  label: string;\n  value: V;\n  onChange(v: V): void;\n  decrement(v: V): V;\n  increment(v: V): V;\n  format?(v: V): string;\n}\n\nfunction useLongPress(effect: Effect, ms = 100) {\n  const [startLongPress, setStartLongPress] = React.useState(false);\n\n  React.useEffect(() => {\n    let timerId = undefined;\n\n    if (startLongPress) {\n      timerId = window.setTimeout(effect, ms);\n    } else {\n      window.clearTimeout(timerId);\n    }\n\n    return window.clearTimeout.bind(window, timerId);\n  });\n\n  return {\n    onClick: () => effect(),\n    onMouseDown: () => setStartLongPress(true),\n    onMouseUp: () => setStartLongPress(false),\n    onMouseLeave: () => setStartLongPress(false),\n    onTouchStart: () => setStartLongPress(true),\n    onTouchEnd: () => setStartLongPress(false),\n  };\n}\n\nconst Stepper: React.FC<Props> = ({ onChange, format, value, label, decrement, increment }) => {\n\n  const decrementHandlers = useLongPress(() => onChange(decrement(value)));\n  const incrementHandlers = useLongPress(() => onChange(increment(value)));\n\n  return (\n    <form className=\"noselect\">\n      <label className=\"mr3 w3 dib\">{label}</label>\n      <button type=\"button\" {...decrementHandlers}>\n        −\n      </button>\n      <input type=\"text\" readOnly value={format!(value)} />\n      <button type=\"button\" {...incrementHandlers}>\n        +\n      </button>\n    </form>\n  );\n};\n\nStepper.defaultProps = {\n  label: \"Label\",\n  decrement: (v: number) => v - 1,\n  increment: (v: number) => v + 1,\n  format: (v: number) => String(v),\n  value: 0,\n};\n\nexport default Stepper;\n","import * as React from \"react\";\nimport Stepper from \"./Stepper\";\nimport { formattedDuration } from \"./utils\";\nimport Workout from \"./Workout\";\nimport { effects } from \"./utils\";\n\ninterface Props extends IWorkoutTimer {}\n\nconst nullOnChange = (x: number) => {};\n\nfunction IntegerStepper({ value = 0, onChange = nullOnChange, label = \"Label\" } = {}) {\n  const step = 1; // rounds\n  const increment = (value: number) => Math.min(value + step, 40);\n  const decrement = (value: number) => Math.max(value - step, 1);\n  return (\n    <Stepper\n      onChange={onChange}\n      label={label}\n      value={value}\n      increment={increment}\n      decrement={decrement}\n    />\n  );\n}\n\nfunction TimeStepper({ value = 0, onChange = nullOnChange, label = \"Label\" } = {}) {\n  const step = 1000; // millis\n  const next = (value: number) => Math.min(value + step, 60 * 1000);\n  const prev = (value: number) => Math.max(value - step, 5 * 1000);\n  return (\n    <Stepper\n      onChange={onChange}\n      value={value}\n      label={label}\n      increment={next}\n      decrement={prev}\n      format={formattedDuration}\n    />\n  );\n}\n\nconst Timer: React.FC<Props> = ({ start, reset, setSets, setWork, setRest, workout }) => {\n  return (\n    <>\n      <section className=\"flex flex-column mv3\">\n        <IntegerStepper onChange={setSets} label=\"Sets\" value={workout.sets} />\n        <TimeStepper onChange={setWork} label=\"Work\" value={workout.work} />\n        <TimeStepper onChange={setRest} label=\"Rest\" value={workout.rest} />\n      </section>\n      <section className=\"mv3 flex\">\n        <button onClick={reset} className=\"mh3\">\n          Reset\n        </button>\n        <button onClick={effects(Workout.start, start).bind(undefined, workout)} className=\"mh3\">\n          Go!\n        </button>\n      </section>\n    </>\n  );\n};\n\nexport default Timer;\n","import * as React from \"react\";\nimport AppShell from \"./AppShell\";\nimport Workout from \"./Workout\";\nimport Timer from \"./Timer\";\n\nconst defaultWorkout: IWorkout = {\n  sets: 20,\n  work: 30 * 1000,\n  rest: 15 * 1000,\n  start: false,\n};\n\nconst App: React.FC = () => {\n\n  const [workout, setWorkout] = React.useState({ ...defaultWorkout });\n\n  const timer = {\n    setSets: (sets: number) => setWorkout({ ...workout, sets }),\n    setWork: (work: number) => setWorkout({ ...workout, work }),\n    setRest: (rest: number) => setWorkout({ ...workout, rest }),\n    start: () => setWorkout({...workout, start: true }),\n    reset: () => setWorkout(defaultWorkout)\n  };\n\n  let Content = null;\n\n  if (workout.start) {\n    Content = <Workout {...workout} />;\n  } else {\n    Content = <Timer workout={workout} {...timer} />\n  }\n\n  return <AppShell>{Content}</AppShell>;\n\n};\n\nexport default App;\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport App from \"./App\";\nReactDOM.render(<App />, document.getElementById(\"app\"));\n"],"names":["React.createElement","React.useState","React.useEffect","ReactDOM.render"],"mappings":"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"}